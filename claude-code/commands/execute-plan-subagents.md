Now that you have planned the approach, please split the planned approach into manageable pieces that can be executed independently in parallel. Then, spawn claude code subagents in this repo to work on this plan in parallel such that each subagent will execute an independent component of the plan. Each subagent should maintain it's own list of TODOs and update their corresponding list as they make progress. Additionally, all subagents should share context so they can understand the high-level goals and abide by contractual interfaces between their work when working on interconnected parts of the codebase. 

IMPORTANT: Please report back how you split the components of our plan into independent pieces, how many agents you will spawn, and how they will work together, and ensure I approve this before starting the work.